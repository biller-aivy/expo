import { Step } from '~/ui/components/Step';
import { Terminal } from '~/ui/components/Snippet';
import { Tabs, Tab } from '~/ui/components/Tabs';

import { BuildEnvironmentSwitch } from '../BuildEnvironmentSwitch';

## Set up an Android device with a development build

<BuildEnvironmentSwitch type="android-studio" />

# TODO: !!!

## Install Node.js, Watchman, and JDK

<Tabs>

<Tab label='macOS'>

To set up your development environment on macOS for Android, you will install Node.js, Watchman, JDK, and Android Studio.

#### Prerequisites

Use a package manager such as [Homebrew](https://brew.sh/) to install the following dependencies.

#### Install dependencies

<Step label="1">

Install the LTS release of Node.js using a [version management tool](https://nodejs.org/en/download/package-manager) such as `nvm` or `volta`. If you have already installed Node.js on your system, make sure the version is 16 or above.

</Step>

<Step label="2">

[Install Watchman](https://facebook.github.io/watchman/docs/install#macos) using a tool such as Homebrew:

<Terminal cmd={['$ brew install watchman']} />

</Step>

<Step label="3">

Install OpenJDK distribution called Azul Zulu using Homebrew. This distribution offers JDKs for both Apple Silicon and Intel Macs.

<Tabs>

<Tab label="SDK 50 and above">

We recommend JDK 17. Run the following commands in a terminal window to install it:

<Terminal
  cmd={['$ brew tap homebrew/cask-versions', '$ brew install --cask zulu17']}
  cmdCopy="brew tap homebrew/cask-versions && brew install --cask zulu17"
/>

After you install the JDK, add the `JAVA_HOME` environment variable in **~/.bash_profile** (or **~/.zshrc** if you use Zsh):

```bash
export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home
```

</Tab>

<Tab label="SDK 49 and below">

We recommend JDK 11 (you may encounter problems with higher JDK versions). Run the following commands in a terminal window to install it:

<Terminal
  cmd={['$ brew tap homebrew/cask-versions', '$ brew install --cask zulu11']}
  cmdCopy="brew tap homebrew/cask-versions && brew install --cask zulu11"
/>

After you install the JDK, add the `JAVA_HOME` environment variable in **~/.bash_profile** (or **~/.zshrc** if you use Zsh):

```bash
export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home
```

</Tab>

</Tabs>

</Step>

#### Install and configure Android Studio

Android Studio allows installing Android SDK, Android SDK Platform, and Android Virtual Device. They are required to set up the Android development environment. Follow the [instructions on the Android Studio Emulator](/workflow/android-studio-emulator/) to install these tools.

</Tab>

<Tab label='Windows'>

To set up your development environment on Windows for Android, you will install Node.js, JDK, and Android Studio.

#### Prerequisites

Use a package manager such as [Chocolatey](https://chocolatey.org/) to install the following dependencies.

#### Install dependencies

<Step label="1">

Install the LTS version of Node.js using Chocolatey:

<Terminal cmd={['$ choco install -y nodejs']} />

If you have already installed Node.js on your system, make sure the version is 18 or above. If you want to be able to switch between different versions, you might want to install Node.js using a version manager such as [`nvm-windows`](https://github.com/coreybutler/nvm-windows).

</Step>

<Step label="2">

Install [Java SE Development Kit (JDK)](https://openjdk.org/):

<Tabs>

<Tab label="SDK 50 and above">

For SDK 50 and above, install JDK version 17.

<Terminal cmd={['$ choco install -y microsoft-openjdk17']} />

</Tab>

<Tab label="SDK 49 and below">

For SDK 49 and below, install JDK version 11.

<Terminal cmd={['$ choco install -y microsoft-openjdk11']} />

</Tab>

</Tabs>

</Step>

#### Install and configure Android Studio

Android Studio allows installing Android SDK, Android SDK Platform, and Android Virtual Device. They are required to set up the Android development environment. Follow the [instructions on the Android Studio Emulator](/workflow/android-studio-emulator/) to install these tools.

</Tab>

<Tab label="Linux">

To set up your development environment on Linux for Android, you will install Node.js, Watchman, JDK, and Android Studio.

#### Install dependencies

<Step label="1">

Install Node.js 18 or above by following [installation instructions for your Linux distribution](https://nodejs.org/en/download/package-manager).

</Step>

<Step label="2">

Follow [installation instructions from the Watchman installation guide](https://facebook.github.io/watchman/docs/install#linux) to compile and install it from the source.

</Step>

<Step label="3">

Install [Java SE Development Kit (JDK)](https://openjdk.org/):

<Tabs>

<Tab label="SDK 50 and above">

For SDK 50 and above, install JDK version 17. You can download and install [OpenJDK](http://openjdk.java.net/) from [AdoptOpenJDK](https://adoptopenjdk.net/) or your system packager.

</Tab>

<Tab label="SDK 49 and below">

For SDK 49 and below, install JDK version 11. You can download and install [OpenJDK](http://openjdk.java.net/) from [AdoptOpenJDK](https://adoptopenjdk.net/) or your system packager.

</Tab>

</Tabs>

</Step>

#### Install and configure Android Studio

Android Studio allows installing Android SDK, Android SDK Platform, and Android Virtual Device. They are required to set up the Android development environment. Follow the [instructions on the Android Studio Emulator](/workflow/android-studio-emulator/) to install these tools.

</Tab>

</Tabs>
